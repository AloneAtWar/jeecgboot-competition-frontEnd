{"remainingRequest":"D:\\a\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a\\ant-design-vue-jeecg\\src\\views\\jeecg\\JVxeDemo\\JVxeDemo2.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a\\ant-design-vue-jeecg\\src\\views\\jeecg\\JVxeDemo\\JVxeDemo2.vue","mtime":1661074531266},{"path":"D:\\a\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657458637011},{"path":"D:\\a\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1657458618345},{"path":"D:\\a\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657458637011},{"path":"D:\\a\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1657458571653}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport moment from 'moment'\nimport { randomNumber, randomUUID } from '@/utils/util'\nimport { JVXETypes } from '@/components/jeecg/JVxeTable'\n\nexport default {\n  name: 'JVxeDemo2',\n  data() {\n    return {\n      loading: false,\n      columns: [\n        {\n          title: '下拉框_字典表搜索',\n          key: 'select_dict_search',\n          type: JVXETypes.selectDictSearch,\n          width: '200px',\n          // 【字典表配置信息】：数据库表名,显示字段名,存储字段名\n          dict: 'sys_user,realname,username',\n        },\n        {\n          title: 'JPopup',\n          key: 'popup',\n          type: JVXETypes.popup,\n          width: '180px',\n          popupCode: 'demo',\n          field: 'name,sex,age',\n          orgFields: 'name,sex,age',\n          destFields: 'popup,popup_sex,popup_age'\n        },\n        {\n          title: 'JP-性别',\n          key: 'popup_sex',\n          type: JVXETypes.select,\n          dictCode: 'sex',\n          disabled: true,\n          width: '100px',\n        },\n        {\n          title: 'JP-年龄',\n          key: 'popup_age',\n          type: JVXETypes.normal,\n          width: '80px',\n        },\n        {\n          title: '进度条',\n          key: 'progress',\n          type: JVXETypes.progress,\n          minWidth: '120px'\n        },\n        {\n          title: '单选',\n          key: 'radio',\n          type: JVXETypes.radio,\n          width: '130px',\n          options: [\n            {text: '男', value: '1'},\n            {text: '女', value: '2'},\n          ],\n          // 允许清除选择（再点一次取消选择）\n          allowClear: true\n        },\n        {\n          title: '上传',\n          key: 'upload',\n          type: JVXETypes.upload,\n          width: '180px',\n          btnText: '点击上传',\n          token: true,\n          responseName: 'message',\n          action: window._CONFIG['domianURL'] + '/sys/common/upload'\n        },\n        {\n          title: '图片上传',\n          key: 'image',\n          type: JVXETypes.image,\n          width: '180px',\n          token: true,\n        },\n        {\n          title: '文件上传',\n          key: 'file',\n          type: JVXETypes.file,\n          width: '180px',\n          token: true,\n        },\n      ],\n      dataSource: [],\n      pagination: {\n        current: 1,\n        pageSize: 10,\n        pageSizeOptions: ['10', '20', '30', '100', '200'],\n        total: 1000,\n      },\n    }\n\n  },\n\n  created() {\n    this.randomPage(this.pagination.current, this.pagination.pageSize, true)\n  },\n  methods: {\n\n    // 当分页参数变化时触发的事件\n    handlePageChange(event) {\n      // 重新赋值\n      this.pagination.current = event.current\n      this.pagination.pageSize = event.pageSize\n      // 查询数据\n      this.randomPage(event.current, event.pageSize, true)\n    },\n\n    /** 获取值，忽略表单验证 */\n    handleTableGet() {\n      const values = this.$refs.vTable.getTableData()\n      console.log('获取值:', {values})\n      this.$message.success('获取值成功，请看控制台输出')\n    },\n\n    /* 随机生成数据 */\n    randomPage(current, pageSize, loading = false) {\n      if (loading) {\n        this.loading = true\n      }\n\n      let randomDatetime = () => {\n        let time = randomNumber(1000, 9999999999999)\n        return moment(new Date(time)).format('YYYY-MM-DD HH:mm:ss')\n      }\n\n      let limit = (current - 1) * pageSize\n\n      let begin = Date.now()\n      let values = []\n      for (let i = 0; i < pageSize; i++) {\n        let radio = randomNumber(0, 2)\n        values.push({\n          id: randomUUID(),\n          select_dict_search: ['', 'admin', '', 'jeecg', ''][randomNumber(0, 4)],\n          progress: randomNumber(0, 100),\n          radio: radio ? radio.toString() : null\n        })\n      }\n\n      this.dataSource = values\n      let end = Date.now()\n      let diff = end - begin\n\n      if (loading && diff < pageSize) {\n        setTimeout(() => {\n          this.loading = false\n        }, pageSize - diff)\n      }\n\n    }\n  }\n}\n",{"version":3,"sources":["JVxeDemo2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"JVxeDemo2.vue","sourceRoot":"src/views/jeecg/JVxeDemo","sourcesContent":["<template>\r\n  <j-vxe-table\r\n    ref=\"vTable\"\r\n    toolbar\r\n    row-number\r\n    row-selection\r\n    keep-source\r\n    :height=\"484\"\r\n    :loading=\"loading\"\r\n    :dataSource=\"dataSource\"\r\n    :columns=\"columns\"\r\n    :pagination=\"pagination\"\r\n    style=\"margin-top: 8px;\"\r\n    @pageChange=\"handlePageChange\"\r\n  >\r\n\r\n    <template v-slot:toolbarSuffix>\r\n      <a-button @click=\"handleTableGet\">获取值</a-button>\r\n    </template>\r\n\r\n  </j-vxe-table>\r\n</template>\r\n\r\n<script>\r\n  import moment from 'moment'\r\n  import { randomNumber, randomUUID } from '@/utils/util'\r\n  import { JVXETypes } from '@/components/jeecg/JVxeTable'\r\n\r\n  export default {\r\n    name: 'JVxeDemo2',\r\n    data() {\r\n      return {\r\n        loading: false,\r\n        columns: [\r\n          {\r\n            title: '下拉框_字典表搜索',\r\n            key: 'select_dict_search',\r\n            type: JVXETypes.selectDictSearch,\r\n            width: '200px',\r\n            // 【字典表配置信息】：数据库表名,显示字段名,存储字段名\r\n            dict: 'sys_user,realname,username',\r\n          },\r\n          {\r\n            title: 'JPopup',\r\n            key: 'popup',\r\n            type: JVXETypes.popup,\r\n            width: '180px',\r\n            popupCode: 'demo',\r\n            field: 'name,sex,age',\r\n            orgFields: 'name,sex,age',\r\n            destFields: 'popup,popup_sex,popup_age'\r\n          },\r\n          {\r\n            title: 'JP-性别',\r\n            key: 'popup_sex',\r\n            type: JVXETypes.select,\r\n            dictCode: 'sex',\r\n            disabled: true,\r\n            width: '100px',\r\n          },\r\n          {\r\n            title: 'JP-年龄',\r\n            key: 'popup_age',\r\n            type: JVXETypes.normal,\r\n            width: '80px',\r\n          },\r\n          {\r\n            title: '进度条',\r\n            key: 'progress',\r\n            type: JVXETypes.progress,\r\n            minWidth: '120px'\r\n          },\r\n          {\r\n            title: '单选',\r\n            key: 'radio',\r\n            type: JVXETypes.radio,\r\n            width: '130px',\r\n            options: [\r\n              {text: '男', value: '1'},\r\n              {text: '女', value: '2'},\r\n            ],\r\n            // 允许清除选择（再点一次取消选择）\r\n            allowClear: true\r\n          },\r\n          {\r\n            title: '上传',\r\n            key: 'upload',\r\n            type: JVXETypes.upload,\r\n            width: '180px',\r\n            btnText: '点击上传',\r\n            token: true,\r\n            responseName: 'message',\r\n            action: window._CONFIG['domianURL'] + '/sys/common/upload'\r\n          },\r\n          {\r\n            title: '图片上传',\r\n            key: 'image',\r\n            type: JVXETypes.image,\r\n            width: '180px',\r\n            token: true,\r\n          },\r\n          {\r\n            title: '文件上传',\r\n            key: 'file',\r\n            type: JVXETypes.file,\r\n            width: '180px',\r\n            token: true,\r\n          },\r\n        ],\r\n        dataSource: [],\r\n        pagination: {\r\n          current: 1,\r\n          pageSize: 10,\r\n          pageSizeOptions: ['10', '20', '30', '100', '200'],\r\n          total: 1000,\r\n        },\r\n      }\r\n\r\n    },\r\n\r\n    created() {\r\n      this.randomPage(this.pagination.current, this.pagination.pageSize, true)\r\n    },\r\n    methods: {\r\n\r\n      // 当分页参数变化时触发的事件\r\n      handlePageChange(event) {\r\n        // 重新赋值\r\n        this.pagination.current = event.current\r\n        this.pagination.pageSize = event.pageSize\r\n        // 查询数据\r\n        this.randomPage(event.current, event.pageSize, true)\r\n      },\r\n\r\n      /** 获取值，忽略表单验证 */\r\n      handleTableGet() {\r\n        const values = this.$refs.vTable.getTableData()\r\n        console.log('获取值:', {values})\r\n        this.$message.success('获取值成功，请看控制台输出')\r\n      },\r\n\r\n      /* 随机生成数据 */\r\n      randomPage(current, pageSize, loading = false) {\r\n        if (loading) {\r\n          this.loading = true\r\n        }\r\n\r\n        let randomDatetime = () => {\r\n          let time = randomNumber(1000, 9999999999999)\r\n          return moment(new Date(time)).format('YYYY-MM-DD HH:mm:ss')\r\n        }\r\n\r\n        let limit = (current - 1) * pageSize\r\n\r\n        let begin = Date.now()\r\n        let values = []\r\n        for (let i = 0; i < pageSize; i++) {\r\n          let radio = randomNumber(0, 2)\r\n          values.push({\r\n            id: randomUUID(),\r\n            select_dict_search: ['', 'admin', '', 'jeecg', ''][randomNumber(0, 4)],\r\n            progress: randomNumber(0, 100),\r\n            radio: radio ? radio.toString() : null\r\n          })\r\n        }\r\n\r\n        this.dataSource = values\r\n        let end = Date.now()\r\n        let diff = end - begin\r\n\r\n        if (loading && diff < pageSize) {\r\n          setTimeout(() => {\r\n            this.loading = false\r\n          }, pageSize - diff)\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}