{"remainingRequest":"D:\\a\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js!D:\\a\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\a\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a\\ant-design-vue-jeecg\\src\\components\\jeecg\\JVxeTable\\components\\JVxeToolbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a\\ant-design-vue-jeecg\\src\\components\\jeecg\\JVxeTable\\components\\JVxeToolbar.vue","mtime":1661074531189},{"path":"D:\\a\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657458637011},{"path":"D:\\a\\ant-design-vue-jeecg\\node_modules\\babel-loader\\lib\\index.js","mtime":1657458618345},{"path":"D:\\a\\ant-design-vue-jeecg\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1657458637011},{"path":"D:\\a\\ant-design-vue-jeecg\\node_modules\\vue-loader\\lib\\index.js","mtime":1657458571653}],"contextDependencies":[],"result":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'JVxeToolbar',\n  props: {\n    toolbarConfig: Object,\n    excludeCode: Array,\n    size: String,\n    disabled: Boolean,\n    disabledRows: Object,\n    selectedRowIds: Array\n  },\n  data: function data() {\n    return {\n      // 是否收起\n      collapsed: true\n    };\n  },\n  computed: {\n    boxClass: function boxClass() {\n      return {\n        'j-vxe-toolbar': true,\n        'j-vxe-toolbar-collapsed': this.collapsed\n      };\n    },\n    btns: function btns() {\n      var arr = this.toolbarConfig.btn || ['add', 'remove', 'clearSelection'];\n\n      var exclude = _toConsumableArray(this.excludeCode); // TODO 需要将remove替换batch_delete\n      // 系统默认的批量删除编码配置为 batch_delete 此处需要转化一下\n\n\n      if (exclude.indexOf('batch_delete') >= 0) {\n        exclude.push('remove');\n      } // 按钮权限 需要去掉不被授权的按钮\n\n\n      return arr.filter(function (item) {\n        return exclude.indexOf(item) < 0;\n      });\n    },\n    slots: function slots() {\n      return this.toolbarConfig.slot || ['prefix', 'suffix'];\n    },\n    showPrefix: function showPrefix() {\n      return this.slots.includes('prefix');\n    },\n    showSuffix: function showSuffix() {\n      return this.slots.includes('suffix');\n    },\n    showAdd: function showAdd() {\n      return this.btns.includes('add');\n    },\n    showSave: function showSave() {\n      return this.btns.includes('save');\n    },\n    showRemove: function showRemove() {\n      return this.btns.includes('remove');\n    },\n    showClearSelection: function showClearSelection() {\n      if (this.btns.includes('clearSelection')) {\n        // 有禁用行时才显示清空选择按钮\n        // 因为禁用行会阻止选择行，导致无法取消全选\n        var length = Object.keys(this.disabledRows).length;\n        return length > 0;\n      }\n\n      return false;\n    },\n    showCollapse: function showCollapse() {\n      return this.btns.includes('collapse');\n    },\n    btnSize: function btnSize() {\n      return this.size === 'tiny' ? 'small' : null;\n    }\n  },\n  methods: {\n    /** 触发事件 */\n    trigger: function trigger(name) {\n      this.$emit(name);\n    },\n    // 切换展开收起\n    toggleCollapse: function toggleCollapse() {\n      this.collapsed = !this.collapsed;\n    }\n  }\n};",{"version":3,"sources":["JVxeToolbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,aAAA,EAAA,MADA;AAEA,IAAA,WAAA,EAAA,KAFA;AAGA,IAAA,IAAA,EAAA,MAHA;AAIA,IAAA,QAAA,EAAA,OAJA;AAKA,IAAA,YAAA,EAAA,MALA;AAMA,IAAA,cAAA,EAAA;AANA,GAFA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA;AACA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GAfA;AAgBA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA;AACA,yBAAA,IADA;AAEA,mCAAA,KAAA;AAFA,OAAA;AAIA,KANA;AAQA,IAAA,IARA,kBAQA;AACA,UAAA,GAAA,GAAA,KAAA,aAAA,CAAA,GAAA,IAAA,CAAA,KAAA,EAAA,QAAA,EAAA,gBAAA,CAAA;;AACA,UAAA,OAAA,sBAAA,KAAA,WAAA,CAAA,CAFA,CAGA;AACA;;;AACA,UAAA,OAAA,CAAA,OAAA,CAAA,cAAA,KAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,OAPA,CAQA;;;AACA,aAAA,GAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,OAAA,CAAA,OAAA,CAAA,IAAA,IAAA,CAAA;AACA,OAFA,CAAA;AAGA,KApBA;AAqBA,IAAA,KArBA,mBAqBA;AACA,aAAA,KAAA,aAAA,CAAA,IAAA,IAAA,CAAA,QAAA,EAAA,QAAA,CAAA;AACA,KAvBA;AAwBA,IAAA,UAxBA,wBAwBA;AACA,aAAA,KAAA,KAAA,CAAA,QAAA,CAAA,QAAA,CAAA;AACA,KA1BA;AA2BA,IAAA,UA3BA,wBA2BA;AACA,aAAA,KAAA,KAAA,CAAA,QAAA,CAAA,QAAA,CAAA;AACA,KA7BA;AA8BA,IAAA,OA9BA,qBA8BA;AACA,aAAA,KAAA,IAAA,CAAA,QAAA,CAAA,KAAA,CAAA;AACA,KAhCA;AAiCA,IAAA,QAjCA,sBAiCA;AACA,aAAA,KAAA,IAAA,CAAA,QAAA,CAAA,MAAA,CAAA;AACA,KAnCA;AAoCA,IAAA,UApCA,wBAoCA;AACA,aAAA,KAAA,IAAA,CAAA,QAAA,CAAA,QAAA,CAAA;AACA,KAtCA;AAuCA,IAAA,kBAvCA,gCAuCA;AACA,UAAA,KAAA,IAAA,CAAA,QAAA,CAAA,gBAAA,CAAA,EAAA;AACA;AACA;AACA,YAAA,MAAA,GAAA,MAAA,CAAA,IAAA,CAAA,KAAA,YAAA,EAAA,MAAA;AACA,eAAA,MAAA,GAAA,CAAA;AACA;;AACA,aAAA,KAAA;AACA,KA/CA;AAgDA,IAAA,YAhDA,0BAgDA;AACA,aAAA,KAAA,IAAA,CAAA,QAAA,CAAA,UAAA,CAAA;AACA,KAlDA;AAoDA,IAAA,OApDA,qBAoDA;AACA,aAAA,KAAA,IAAA,KAAA,MAAA,GAAA,OAAA,GAAA,IAAA;AACA;AAtDA,GAhBA;AAwEA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,OAFA,mBAEA,IAFA,EAEA;AACA,WAAA,KAAA,CAAA,IAAA;AACA,KAJA;AAKA;AACA,IAAA,cANA,4BAMA;AACA,WAAA,SAAA,GAAA,CAAA,KAAA,SAAA;AACA;AARA;AAxEA,CAAA","sourcesContent":["<template>\r\n  <div :class=\"boxClass\">\r\n    <!-- 工具按钮 -->\r\n    <div class=\"j-vxe-tool-button div\" :size=\"btnSize\">\r\n      <slot v-if=\"showPrefix\" name=\"toolbarPrefix\" :size=\"btnSize\"/>\r\n\r\n      <a-button v-if=\"showAdd\" icon=\"plus\" @click=\"trigger('add')\" :disabled=\"disabled\" type=\"primary\">新增</a-button>\r\n      <a-button v-if=\"showSave\" icon=\"save\" @click=\"trigger('save')\" :disabled=\"disabled\">保存</a-button>\r\n      <template v-if=\"selectedRowIds.length > 0\">\r\n        <a-popconfirm\r\n          v-if=\"showRemove\"\r\n          :title=\"`确定要删除这 ${selectedRowIds.length} 项吗?`\"\r\n          :disabled=\"disabled\"\r\n          @confirm=\"trigger('remove')\"\r\n        >\r\n          <a-button icon=\"minus\" :disabled=\"disabled\">删除</a-button>\r\n        </a-popconfirm>\r\n        <template v-if=\"showClearSelection\">\r\n          <a-button icon=\"delete\" @click=\"trigger('clearSelection')\">清空选择</a-button>\r\n        </template>\r\n      </template>\r\n\r\n      <slot v-if=\"showSuffix\" name=\"toolbarSuffix\" :size=\"btnSize\"/>\r\n      <a v-if=\"showCollapse\" @click=\"toggleCollapse\" style=\"margin-left: 4px\">\r\n        <span>{{ collapsed ? '展开' : '收起' }}</span>\r\n        <a-icon :type=\"collapsed ? 'down' : 'up'\"/>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'JVxeToolbar',\r\n    props: {\r\n      toolbarConfig: Object,\r\n      excludeCode: Array,\r\n      size: String,\r\n      disabled: Boolean,\r\n      disabledRows: Object,\r\n      selectedRowIds: Array,\r\n    },\r\n    data() {\r\n      return {\r\n        // 是否收起\r\n        collapsed: true,\r\n      }\r\n    },\r\n    computed: {\r\n      boxClass() {\r\n        return {\r\n          'j-vxe-toolbar': true,\r\n          'j-vxe-toolbar-collapsed': this.collapsed,\r\n        }\r\n      },\r\n\r\n      btns() {\r\n        let arr = this.toolbarConfig.btn || ['add', 'remove', 'clearSelection']\r\n        let exclude = [...this.excludeCode]\r\n        // TODO 需要将remove替换batch_delete\r\n        // 系统默认的批量删除编码配置为 batch_delete 此处需要转化一下\r\n        if(exclude.indexOf('batch_delete')>=0){\r\n          exclude.push('remove')\r\n        }\r\n        // 按钮权限 需要去掉不被授权的按钮\r\n        return arr.filter(item=>{\r\n          return exclude.indexOf(item)<0\r\n        })\r\n      },\r\n      slots() {\r\n        return this.toolbarConfig.slot || ['prefix', 'suffix']\r\n      },\r\n      showPrefix() {\r\n        return this.slots.includes('prefix')\r\n      },\r\n      showSuffix() {\r\n        return this.slots.includes('suffix')\r\n      },\r\n      showAdd() {\r\n        return this.btns.includes('add')\r\n      },\r\n      showSave() {\r\n        return this.btns.includes('save')\r\n      },\r\n      showRemove() {\r\n        return this.btns.includes('remove')\r\n      },\r\n      showClearSelection() {\r\n        if (this.btns.includes('clearSelection')) {\r\n          // 有禁用行时才显示清空选择按钮\r\n          // 因为禁用行会阻止选择行，导致无法取消全选\r\n          let length = Object.keys(this.disabledRows).length\r\n          return length > 0\r\n        }\r\n        return false\r\n      },\r\n      showCollapse() {\r\n        return this.btns.includes('collapse')\r\n      },\r\n\r\n      btnSize() {\r\n        return this.size === 'tiny' ? 'small' : null\r\n      },\r\n    },\r\n    methods: {\r\n      /** 触发事件 */\r\n      trigger(name) {\r\n        this.$emit(name)\r\n      },\r\n      // 切换展开收起\r\n      toggleCollapse() {\r\n        this.collapsed = !this.collapsed\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .j-vxe-toolbar-collapsed {\r\n    [data-collapse] {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  .j-vxe-tool-button.div .ant-btn {\r\n    margin-right: 8px;\r\n  }\r\n</style>"],"sourceRoot":"src/components/jeecg/JVxeTable/components"}]}